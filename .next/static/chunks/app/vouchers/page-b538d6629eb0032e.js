(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{9670:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5815:function(e,t,s){Promise.resolve().then(s.bind(s,4116))},4116:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=s(7437),a=s(2265),l=s(3067),c=s(5713),n=s(9883),i=s(2549),d=s(1541),x=s(6637),m=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,m.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),h=(0,m.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var u=s(9670),g=s(4136),p=s(1138),y=s(1396),b=s.n(y),j=s(1657);let N=["库存现金","银行存款","应收账款","原材料","库存商品","应付账款","应付职工薪酬","应交税费","实收资本","主营业务收入","主营业务成本","销售费用","管理费用","财务费用"],f=[{id:"1",voucherNumber:"V202412001",date:"2024-12-01",summary:"销售商品收入",entries:[{id:"1",account:"银行存款",debit:5e4,credit:0,summary:"销售商品收入"},{id:"2",account:"主营业务收入",debit:0,credit:5e4,summary:"销售商品收入"}],attachments:[{id:"1",name:"销售发票.pdf",type:"application/pdf",size:1024e3,url:"#"}],status:"approved"}];function v(){let[e,t]=(0,a.useState)(f),[s,m]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[w,k]=(0,a.useState)(null),S=(0,a.useRef)(null),[C,Z]=(0,a.useState)({summary:"",date:new Date().toISOString().split("T")[0],entries:[{id:"1",account:"",debit:0,credit:0,summary:""},{id:"2",account:"",debit:0,credit:0,summary:""}],attachments:[]}),M=(e,t)=>{Z(s=>({...s,[e]:t}))},L=(e,t,s)=>{Z(r=>({...r,entries:r.entries.map(r=>r.id===e?{...r,[t]:s}:r)}))},z=e=>{C.entries.length<=2||Z(t=>({...t,entries:t.entries.filter(t=>t.id!==e)}))},D=()=>.01>Math.abs(C.entries.reduce((e,t)=>e+t.debit,0)-C.entries.reduce((e,t)=>e+t.credit,0)),_=e=>{v(e),Z({summary:e.summary,date:e.date,entries:e.entries.length>0?e.entries:[{id:"1",account:"",debit:0,credit:0,summary:e.summary},{id:"2",account:"",debit:0,credit:0,summary:e.summary}],attachments:e.attachments||[]}),m(!0)},E=e=>{confirm("确定要删除这个凭证吗？")&&t(t=>t.filter(t=>t.id!==e))},B=()=>{Z({summary:"",date:new Date().toISOString().split("T")[0],entries:[{id:"1",account:"",debit:0,credit:0,summary:""},{id:"2",account:"",debit:0,credit:0,summary:""}],attachments:[]})},F=e=>e.reduce((e,t)=>e+t.debit,0),O=e=>e.reduce((e,t)=>e+t.credit,0),R=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"processed":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},V=e=>{switch(e){case"pending":return"待审核";case"processed":return"已处理";case"approved":return"已审核";default:return"未知"}},A=e=>{Z(t=>({...t,attachments:t.attachments.filter(t=>t.id!==e)}))},I=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(b(),{href:"/",className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(l.Z,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)(c.Z,{className:"w-4 h-4 text-white"})}),(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"会计凭证管理"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["共 ",e.length," 个凭证"]}),(0,r.jsxs)("button",{onClick:()=>{m(!0),v(null),B()},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[(0,r.jsx)(n.Z,{className:"w-4 h-4"}),"新增凭证"]})]})]})})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:y?"编辑凭证":"新增凭证"}),(0,r.jsx)("button",{onClick:()=>{m(!1),B()},className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(i.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["日期 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"date",value:C.date,onChange:e=>M("date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["摘要 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",value:C.summary,onChange:e=>M("summary",e.target.value),placeholder:"请输入凭证摘要",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"附件上传"}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-400 transition-colors",children:[(0,r.jsx)("input",{ref:S,type:"file",multiple:!0,onChange:e=>{let t=e.target.files;t&&Array.from(t).forEach(e=>{let t={id:Date.now().toString()+Math.random(),name:e.name,type:e.type,size:e.size,url:URL.createObjectURL(e)};Z(e=>({...e,attachments:[...e.attachments,t]}))})},className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{var e;return null===(e=S.current)||void 0===e?void 0:e.click()},className:"w-full flex flex-col items-center justify-center py-4 text-gray-600 hover:text-blue-600 transition-colors",children:[(0,r.jsx)(d.Z,{className:"w-8 h-8 mb-2"}),(0,r.jsx)("span",{className:"text-sm",children:"点击上传附件"}),(0,r.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"支持 PDF、Word、Excel、图片等格式"})]})]}),C.attachments.length>0&&(0,r.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"已上传的附件:"}),C.attachments.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 text-blue-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:I(e.size)})]})]}),(0,r.jsx)("button",{onClick:()=>A(e.id),className:"text-red-600 hover:text-red-800 p-1",children:(0,r.jsx)(i.Z,{className:"w-4 h-4"})})]},e.id))]})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"借贷平衡检查"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"借方合计:"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-red-600",children:["\xa5",F(C.entries).toLocaleString()]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"贷方合计:"}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-green-600",children:["\xa5",O(C.entries).toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"差额:"}),(0,r.jsxs)("p",{className:(0,j.cn)("text-lg font-semibold",.01>Math.abs(F(C.entries)-O(C.entries))?"text-green-600":"text-red-600"),children:["\xa5",(F(C.entries)-O(C.entries)).toLocaleString()]})]})]})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"会计分录"}),(0,r.jsxs)("button",{onClick:()=>{let e={id:Date.now().toString(),account:"",debit:0,credit:0,summary:C.summary};Z(t=>({...t,entries:[...t.entries,e]}))},className:"bg-blue-600 text-white px-3 py-1 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm",children:[(0,r.jsx)(n.Z,{className:"w-4 h-4"}),"添加分录"]})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"序号"}),(0,r.jsxs)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:["会计科目 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"摘要"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"借方金额"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"贷方金额"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"操作"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:C.entries.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 border-b border-gray-200",children:t+1}),(0,r.jsx)("td",{className:"px-4 py-3 border-b border-gray-200",children:(0,r.jsxs)("select",{value:e.account,onChange:t=>L(e.id,"account",t.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[(0,r.jsx)("option",{value:"",children:"请选择科目"}),N.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})}),(0,r.jsx)("td",{className:"px-4 py-3 border-b border-gray-200",children:(0,r.jsx)("input",{type:"text",value:e.summary,onChange:t=>L(e.id,"summary",t.target.value),placeholder:"摘要",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),(0,r.jsx)("td",{className:"px-4 py-3 border-b border-gray-200",children:(0,r.jsx)("input",{type:"number",value:e.debit,onChange:t=>L(e.id,"debit",parseFloat(t.target.value)||0),placeholder:"0.00",step:"0.01",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),(0,r.jsx)("td",{className:"px-4 py-3 border-b border-gray-200",children:(0,r.jsx)("input",{type:"number",value:e.credit,onChange:t=>L(e.id,"credit",parseFloat(t.target.value)||0),placeholder:"0.00",step:"0.01",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})}),(0,r.jsx)("td",{className:"px-4 py-3 border-b border-gray-200",children:C.entries.length>2&&(0,r.jsx)("button",{onClick:()=>z(e.id),className:"text-red-600 hover:text-red-700",title:"删除分录",children:(0,r.jsx)(o,{className:"w-4 h-4"})})})]},e.id))})]})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,r.jsx)("button",{onClick:()=>{m(!1),B()},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"取消"}),(0,r.jsxs)("button",{onClick:y?()=>{if(!y)return;if(!D()){alert("借贷不平衡，请检查会计分录");return}let e={...y,summary:C.summary,date:C.date,entries:C.entries.filter(e=>e.account&&(e.debit>0||e.credit>0)),attachments:C.attachments};t(t=>t.map(t=>t.id===y.id?e:t)),B(),v(null),m(!1)}:()=>{if(!C.summary||!D()){alert("请填写摘要并确保借贷平衡");return}let e={id:Date.now().toString(),voucherNumber:"V".concat(String(Date.now()).slice(-6)),date:C.date,summary:C.summary,entries:C.entries.filter(e=>e.account&&(e.debit>0||e.credit>0)),attachments:C.attachments||[],status:"pending"};t(t=>[e,...t]),B(),m(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[(0,r.jsx)(h,{className:"w-4 h-4"}),y?"更新凭证":"保存凭证"]})]})]}):(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"凭证列表"})}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(c.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"暂无凭证"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:'点击"新增凭证"开始创建会计凭证'}),(0,r.jsxs)("button",{onClick:()=>m(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 mx-auto",children:[(0,r.jsx)(n.Z,{className:"w-4 h-4"}),"新增凭证"]})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"凭证号"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"日期"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"摘要"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"借方合计"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"贷方合计"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"附件"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"状态"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.voucherNumber}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.date}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:e.summary}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["\xa5",F(e.entries).toLocaleString()]}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["\xa5",O(e.entries).toLocaleString()]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.attachments.length>0?(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 text-blue-600"}),(0,r.jsxs)("span",{children:[e.attachments.length,"个"]})]}):(0,r.jsx)("span",{className:"text-gray-400",children:"无"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:(0,j.cn)("inline-flex px-2 py-1 text-xs font-semibold rounded-full",R(e.status)),children:V(e.status)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>k(e),className:"text-blue-600 hover:text-blue-900",title:"查看详情",children:(0,r.jsx)(u.Z,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>_(e),className:"text-green-600 hover:text-green-900",title:"编辑",children:(0,r.jsx)(g.Z,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>E(e.id),className:"text-red-600 hover:text-red-900",title:"删除",children:(0,r.jsx)(p.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})}),w&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"凭证详情"}),(0,r.jsx)("button",{onClick:()=>k(null),className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(i.Z,{className:"w-5 h-5"})})]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"凭证号"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.voucherNumber})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"日期"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.date})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"摘要"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:w.summary})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"状态"}),(0,r.jsx)("p",{className:"mt-1",children:(0,r.jsx)("span",{className:(0,j.cn)("inline-flex px-2 py-1 text-xs font-semibold rounded-full",R(w.status)),children:V(w.status)})})]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"附件"}),(0,r.jsx)("div",{className:"mt-1",children:w.attachments.length>0?(0,r.jsx)("div",{className:"space-y-2",children:w.attachments.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 text-blue-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:I(e.size)})]})]}),(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"查看"})]},e.id))}):(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"无附件"})})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"会计分录"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full border border-gray-200 rounded-lg",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"序号"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"会计科目"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"摘要"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"借方金额"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",children:"贷方金额"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.entries.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900 border-b border-gray-200",children:t+1}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900 border-b border-gray-200",children:e.account}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900 border-b border-gray-200",children:e.summary}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900 border-b border-gray-200",children:e.debit>0?"\xa5".concat(e.debit.toLocaleString()):"-"}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900 border-b border-gray-200",children:e.credit>0?"\xa5".concat(e.credit.toLocaleString()):"-"})]},e.id))}),(0,r.jsx)("tfoot",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-4 py-2 text-sm font-medium text-gray-900 border-t border-gray-200",colSpan:3,children:"合计"}),(0,r.jsxs)("td",{className:"px-4 py-2 text-sm font-medium text-gray-900 border-t border-gray-200",children:["\xa5",F(w.entries).toLocaleString()]}),(0,r.jsxs)("td",{className:"px-4 py-2 text-sm font-medium text-gray-900 border-t border-gray-200",children:["\xa5",O(w.entries).toLocaleString()]})]})})]})})]})]}),(0,r.jsx)("div",{className:"p-6 border-t border-gray-200",children:(0,r.jsx)("div",{className:"flex items-center justify-end",children:(0,r.jsx)("button",{onClick:()=>k(null),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"关闭"})})})]})})]})}},1657:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var r=s(7042),a=s(4769);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[554,245,971,938,744],function(){return e(e.s=5815)}),_N_E=e.O()}]);